<html><head><title>Error::Base::Cookbook</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" type="text/css" title="pod_stylesheet" href="http://search.cpan.org/s/style.css">

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.23,
  using Pod::Simple::PullParser v3.23,
  under Perl v5.014003 at Thu Jan 31 23:00:50 2013 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#WHAT%27S_NEW'>WHAT&#39;S NEW</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#EXAMPLES'>EXAMPLES</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Sanity_Check'>Sanity Check</a>
    <li class='indexItem indexItem2'><a href='#Construct_First'>Construct First</a>
    <li class='indexItem indexItem2'><a href='#Construct_and_Throw_in_One_Go'>Construct and Throw in One Go</a>
    <li class='indexItem indexItem2'><a href='#Avoiding_Death'>Avoiding Death</a>
    <li class='indexItem indexItem2'><a href='#Escalation'>Escalation</a>
    <li class='indexItem indexItem2'><a href='#Trapping_the_Fatal_Error_Object'>Trapping the Fatal Error Object</a>
    <li class='indexItem indexItem2'><a href='#Backtrace_Control'>Backtrace Control</a>
    <li class='indexItem indexItem2'><a href='#Wrapper_Routine'>Wrapper Routine</a>
    <li class='indexItem indexItem2'><a href='#Dress_Left'>Dress Left</a>
    <li class='indexItem indexItem2'><a href='#Message_Composition'>Message Composition</a>
    <li class='indexItem indexItem2'><a href='#Interpolation_in_Scope'>Interpolation in Scope</a>
    <li class='indexItem indexItem2'><a href='#Late_Interpolation'>Late Interpolation</a>
    <li class='indexItem indexItem2'><a href='#Local_List_Separator'>Local List Separator</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#EXAMPLE_CODE'>EXAMPLE CODE</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#get_test_data'>get_test_data</a>
    <li class='indexItem indexItem2'><a href='#words'>words</a>
    <li class='indexItem indexItem2'><a href='#cook_dinner'>cook_dinner</a>
    <li class='indexItem indexItem2'><a href='#serve_chili'>serve_chili</a>
    <li class='indexItem indexItem2'><a href='#add_recipie'>add_recipie</a>
    <li class='indexItem indexItem2'><a href='#_crash'>_crash</a>
    <li class='indexItem indexItem2'><a href='#bar'>bar</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#DEMO'>DEMO</a>
  <li class='indexItem indexItem1'><a href='#PHILOSOPHY'>PHILOSOPHY</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Error::Base::Cookbook - Examples of Error::Base usage</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>This document describes Error::Base version v0.1.4</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="WHAT&#39;S_NEW"
>WHAT&#39;S NEW</a></h1>

<ul>
<li>Stuff here.</li>

<li>More stuff here.</li>

<li>Still more stuff.</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Basic use of <a href="http://search.cpan.org/perldoc?Error%3A%3ABase" class="podlinkpod"
>Error::Base</a> is quite simple; and advanced usage is not hard.
The author hopes that nobody is forced to consult this Cookbook.
But I am myself quite fond of cookbook-style documentation; I get more from seeing it all work together than from cut-and-dried reference manuals.
I like those too,
though; and comprehensive reference documentation is found in <a href="http://search.cpan.org/perldoc?Error%3A%3ABase" class="podlinkpod"
>Error::Base</a>.</p>

<p>If you make use of Error::Base and don&#39;t find a similar example here in its Cookbook,
please be so kind as to send your use case to me for future inclusion.
Thank you very much.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLES"
>EXAMPLES</a></h1>

<p>The examples shown here in POD are also present as executable code.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Sanity_Check"
>Sanity Check</a></h2>

<pre>    my $obviously_true  = 0;
    Error::Base-&#62;crash(&#39;Unexpected zero&#39;)
        unless $obviously_true;</pre>

<p>You are certain that this will never happen but you decide to check it anyway. No need to plan ahead; just drop in a sanity check.</p>

<pre>    if    ( $case1 ) { $pointer++ } 
    elsif ( $case2 ) { $pointer-- } 
    elsif ( $case3 ) {  } 
    else             { Error::Base-&#62;crash(&#39;Unimplemented case&#39;) };</pre>

<p>In constructs like this, it&#39;s tempting to think you&#39;ve covered every possible case. Avoid this fallacy by checking explicitly for each implemented case.</p>

<pre>    Error::Base-&#62;crash;         # emits &#39;Undefined error.&#39; with backtrace.</pre>

<p>Don&#39;t forget to pass some error message text. Unless you&#39;re in real big foo.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Construct_First"
>Construct First</a></h2>

<pre>    my $err     = Error::Base-&#62;new(&#39;Foo&#39;);
    $err-&#62;crash;
    
    my $err     = Error::Base-&#62;new(
                        &#39;Third&#39;,
                    -base     =&#62; &#39;First&#39;,
                    -type     =&#62; &#39;Second&#39;,
                );
    $err-&#62;crash;</pre>

<p>If you like to plan your error ahead of time, invoke <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#new()" class="podlinkpod"
>new()</a> with any set of arguments you please. This will help keep your code uncluttered.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Construct_and_Throw_in_One_Go"
>Construct and Throw in One Go</a></h2>

<pre>    Error::Base-&#62;crash(
            &#39;Third&#39;,
        -base     =&#62; &#39;First&#39;,
        -type     =&#62; &#39;Second&#39;,
    );</pre>

<p>You aren&#39;t <i>required</i> to construct first, though. Each of the public methods <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#crash()" class="podlinkpod"
>crash()</a>, <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#crank()" class="podlinkpod"
>crank()</a>, and <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#cuss()" class="podlinkpod"
>cuss()</a> function as constructors and may be called either as a class or object method. Each method accepts all the same parameters as <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#new()" class="podlinkpod"
>new()</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Avoiding_Death"
>Avoiding Death</a></h2>

<pre>    Error::Base-&#62;crank(&#39;More gruel!&#39;);          # as class method
    
    my $err = Error::Base-&#62;new;
    $err-&#62;crank;                                # as object method
    
    my $err = Error::Base-&#62;new(&#39;See me&#39;);
    $err-&#62;cuss(&#39;Feel me&#39;);                      # trace stored in object
    
    my $err = Error::Base-&#62;cuss(&#39;x%@#*!&#39;);      # also a constructor</pre>

<p><a href="http://search.cpan.org/perldoc?Error%3A%3ABase#crank()" class="podlinkpod"
>crank()</a> <b>warn</b>s of your error condition. Perhaps it&#39;s not that serious. The current fashion is to make almost all errors fatal but it&#39;s your call.</p>

<p><a href="http://search.cpan.org/perldoc?Error%3A%3ABase#cuss()" class="podlinkpod"
>cuss()</a> neither <b>die</b>s nor <b>warn</b>s but it does perform a full backtrace from the point of call. You might find it most useful when debugging your error handling itself; substitute &#39;crash&#39; or &#39;crank&#39; later.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Escalation"
>Escalation</a></h2>

<pre>    my $err     = Error::Base-&#62;new( -base =&#62; &#39;Odor detected:&#39; );
    cook_dinner;
    $err-&#62;init( _cooked =&#62; 1 );
    
    serve_chili(&#39;mild&#39;);
    $err-&#62;cuss ( -type =&#62; $fart )           if $fart;
    $err-&#62;crank( -type =&#62; &#39;Air underflow&#39; ) if $fart &#62; $room;
    add_recipie( $err );
    
    serve_chili(&#39;hot&#39;);
    $err-&#62;crash( -type =&#62; &#39;Evacuate now&#39; )  if $fire;</pre>

<p>Once constructed, the same object may be thrown repeatedly, with multiple methods. On each invocation, new arguments overwrite old ones but previously declared attributes, public and private, remain in force if not overwritten. Also on each invocation, the stack is traced afresh and the error message text re-composed and re-formatted.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Trapping_the_Fatal_Error_Object"
>Trapping the Fatal Error Object</a></h2>

<pre>    eval{ Error::Base-&#62;crash(&#39;Houston...&#39;) };   # trap...
    my $err     = $@ if $@;                     # ... and examine the object</pre>

<p><a href="http://search.cpan.org/perldoc?Error%3A%3ABase#crash()" class="podlinkpod"
>crash()</a> does, internally, construct an object if called as a class method. If you trap the error you can capture the object and look inside it.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Backtrace_Control"
>Backtrace Control</a></h2>

<pre>    $err-&#62;crash( -quiet         =&#62; 1, );        # no backtrace
    $err-&#62;crash( -top           =&#62; 0, );        # really full backtrace
    $err-&#62;crash( -top           =&#62; 5, );        # skip top five frames</pre>

<p>Set <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#-quiet" class="podlinkpod"
>-quiet</a> to any TRUE value to silence stack backtrace entirely.</p>

<p>By default, you get a full stack backtrace: &#34;full&#34; meaning, from the point of invocation. Some stack frames are added by the process of crash()-ing itself; by default, these are not seen. If you want more or fewer frames you may set <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#-top" class="podlinkpod"
>-top</a> to a different value.</p>

<p>Beware that future implementations may change the number of stack frames added internally by Error::Base; and also you may see a different number of frames if you subclass, depending on how you do that. The safer way:</p>

<pre>    my $err         = Error::Base-&#62;new(&#39;Foo&#39;);      # construct object
    $err-&#62;{-top}   += 1;                            # ignore one frame
    $err-&#62;crash();</pre>

<p>This is ugly and you may get a convenience method in future.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Wrapper_Routine"
>Wrapper Routine</a></h2>

<pre>    sub _crash { Error::Base-&#62;crash( @_, -top =&#62; 3 ) }; 
    # ... later...
    _crash(&#39;Unexpected zero&#39;)
        unless $obviously_true;</pre>

<p>Write a wrapper routine when trying to wedge sanity checks into dense code. Error::Base is purely object-oriented and exports nothing.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Dress_Left"
>Dress Left</a></h2>

<pre>    my $err     = Error::Base-&#62;new(
                    -prepend    =&#62; &#39;@! Black Tie Lunch:&#39;,
                );

    $err-&#62;crash ( &#39;Let\&#39;s eat!&#39; );
        # emits &#34;@! Black Tie Lunch: Let&#39;s eat!
        #        @                   in main::fubar at line 42    [test.pl]&#34;

    $err-&#62;crash ( &#39;Let\&#39;s eat!&#39;, -indent        =&#62; &#39;%--&#39; );
        # emits &#34;@! Black Tie Lunch: Let&#39;s eat!
        #        %-- in main::fubar at line 42    [test.pl]&#34;

    $err-&#62;crash ( &#39;Let\&#39;s eat!&#39;, -prepend_all   =&#62; &#39;%--&#39; );
        # emits &#34;%-- Let&#39;s eat!
        #        %-- in main::fubar at line 42    [test.pl]&#34;</pre>

<p>Any string passed to <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#-prepend" class="podlinkpod"
>-prepend</a> will be prepended to the first line only of the formatted error message. If <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#-indent" class="podlinkpod"
>-indent</a> is defined then that will be prepended to all following lines. If -indent is undefined then it will be formed (from the first character only of -prepend) and (padded with spaces to the length of -prepend). <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#-prepend_all" class="podlinkpod"
>-prepend_all</a> will be prepended to all lines.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Message_Composition"
>Message Composition</a></h2>

<pre>    my $err     = Error::Base-&#62;new;
    $err-&#62;crash;                        # &#39;Undefined error&#39;
    $err-&#62;crash( &#39;Pronto!&#39; );           # &#39;Pronto!&#39;
    $err-&#62;crash(
            -base   =&#62; &#39;Bar&#39;,
            -type   =&#62; &#39;last call&#39;,
        );                              # &#39;Bar last call&#39;
    $err-&#62;crash(
                &#39;Pronto!&#39;,
            -base   =&#62; &#39;Bar&#39;,
            -type   =&#62; &#39;last call&#39;,
        );                              # &#39;Bar last call Pronto!&#39;
    $err-&#62;crash(
            -base   =&#62; &#39;Bar&#39;,
            -type   =&#62; &#39;last call&#39;,
            -pronto =&#62; &#39;Pronto!&#39;,
        );                              # &#39;Bar last call Pronto!&#39;</pre>

<p>As a convenience, if the number of arguments passed in is odd, then the first arg is shifted off and appnended to the error message. This is done to simplify writing one-off, one-line <a href="http://search.cpan.org/perldoc?Error%3A%3ABase%3A%3ACookbook#Sanity_Check" class="podlinkpod"
>sanity checks</a>.</p>

<p>For a little more structure, yau may pass values to <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#-base" class="podlinkpod"
>-base</a> and <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#-type" class="podlinkpod"
>-type</a> also. All values supplied will be joined; by default, with a single space.</p>

<pre>    my $err     = Error::Base-&#62;new(
                        &#39;Manny&#39;,
                    -base       =&#62; &#39;Pep Boys:&#39;,
                );
    $err-&#62;init(&#39;Moe&#39;);
    $err-&#62;crash(&#39;Jack&#39;);                # emits &#39;Pep Boys: Jack&#39; and backtrace</pre>

<p>Remember, new arguments overwrite old values. The <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#init()" class="podlinkpod"
>init()</a> method can be called directly on an existing object to overwrite object attributes without expanding the message or tracing the stack. If you <i>mean</i> to expand and trace without throwing, invoke <a href="http://search.cpan.org/perldoc?Error%3A%3ABase#cuss()" class="podlinkpod"
>cuss()</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Interpolation_in_Scope"
>Interpolation in Scope</a></h2>

<pre>    my $filename    = &#39;debug246.log&#39;;
    open( my $in_fh, &#39;&#60;&#39;, $filename )
        or Error::Base-&#62;crash(&#34;Failed to open $filename for reading.&#34;);</pre>

<p>Nothing special here; as usual, double quotes interpolate a variable that is in scope at the place where the error is thrown.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Late_Interpolation"
>Late Interpolation</a></h2>

<pre>    my $err     = Error::Base-&#62;new(
                        &#39;Failed to open $filename for reading.&#39;,
                    -base       =&#62; &#39;My::Module error:&#39;,
                );
    bar($err);
    sub bar {
        my $err         = shift;
        my $filename    = &#39;debug246.log&#39;;
        open( my $in_fh, &#39;&#60;&#39;, $filename )
            or $err-&#62;crash(
                            &#39;$filename&#39; =&#62; \$filename,
                        );      # &#39;Failed to open debug246.log for reading.&#39;</pre>

<p>If we want to declare lengthy error text well ahead of time, double-quotey interpolation will serve us poorly. In the example, <code>$filename</code> isn&#39;t in scope when we construct <code>$err</code>. Hey, we don&#39;t even know what the filename will be.</p>

<p>Enclose the string to be late-interpolated in <b>single quotes</b> (to avoid a failed attempt to interpolate immediately) and pass the value when you have it ready, in scope. For clarity, I suggest you pass a reference to the <i>variable</i> <code>$foo</code> as the value of the <i>key</i> <code>&#39;$foo&#39;</code>. The key must be quoted to avoid it being parsed as a variable.</p>

<p>As with normal, in-scope interpolation, you can late-interpolate scalars, arrays, array slices, hash slices, or various escape sequences. There is the same potential for ambiguity, since the actual interpolation is eventually done by perl.</p>

<p>See <a href="http://search.cpan.org/perldoc?perlop#Quote_and_Quote-like_Operators" class="podlinkpod"
>&#34;Quote and Quote-like Operators&#34; in perlop</a>.</p>

<p>Late interpolation is performed <i>after</i> the entire error message is composed and <i>before</i> any prepending, indentation, line-breaking, or stack tracing.</p>

<pre>    my $err     = Error::Base-&#62;new(
                    &#39;$sca&#39;          =&#62; &#39;one&#39;,
                    &#39;@ary_ref&#39;      =&#62; [ &#39;white&#39;, &#39;black&#39; ],
                    &#39;%hash_ref&#39;     =&#62; { hash =&#62; &#39;hog&#39;, toe =&#62; &#39;jam&#39; },
                );
    $err-&#62;crash( &#39;|$sca|@ary_ref|$ary_ref[1]|@hash_ref{ qw/ hash toe / }|&#39; );
                                # emits &#39;|one|white black|black|hog jam|&#39;</pre>

<p>You may use scalar or array placeholders, signifying them with the usual sigils. Although you pass a reference, use the appropriate <code>$</code>, <code>@</code> or <code>%</code> sigil to lead the corresponding key. As a convenience, you may pass simple scalars directly. (It&#39;s syntactically ugly to pass a reference to a literal scalar.) Any value that is <i>not</i> a reference will be late-interpolated directly; anything else will be deferenced (once).</p>

<p>This is Perlish interpolation, only delayed. You can interpolate escape sequences and anything else you would in a double-quoted string. You can pass a reference to a package variable; but do so against a simple key such as <code>&#39;$aryref&#39;</code>.</p>

<pre>    my $err     = Error::Base-&#62;new(
                    &#39;$trigger&#39;      =&#62; 1,       # unused key triggers &#34;late&#34;
                    -base       =&#62; &#39;Trouble:&#39;,
                    -type       =&#62; &#39;Right here in $self-&#62;{_where}!&#39;,
                );
    $err-&#62;crash( _where =&#62; &#39;River City&#39; );  
                                # emits &#39;Trouble: Right here in River City!&#39;</pre>

<p>As a further convenience, you may interpolate a value from the error object itself. In the previous example, <code>&#39;$self-&#62;{_where}&#39;</code> is late-interpolated into <code>-type</code> (please note the single quotes). And also, <code>_where</code> is defined as <code>&#39;River City&#39;</code>. <b>Note</b> that Error::Base has no idea what you have called your error object (perhaps &#39;$err&#39;); use the placeholder <code>&#39;$self&#39;</code> in the string to be expanded.</p>

<p>Don&#39;t forget to store your value against the appropriate key! This implementation of this feature does not peek into your pad. You may not receive an &#39;uninitialized&#39; warning if a value is missing.</p>

<p>If you don&#39;t like this feature, don&#39;t use it and it won&#39;t bug you. <b>Currently</b> you must pass a sigiled key to trigger late interpolation.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Local_List_Separator"
>Local List Separator</a></h2>

<pre>    local $&#34;    = &#39;=&#39;;
    Error::Base-&#62;crash(
            &#39;Third&#39;,
        -base     =&#62; &#39;First&#39;,
        -type     =&#62; &#39;Second&#39;,
    );                                  # emits &#39;First=Second=Third&#39;</pre>

<p>Rationally, I think, message parts should be joined by a single space. Note that array elements are normally interpolated, separated by spaces. Perl uses the value of <code>$&#34;</code> (<code>$LIST_SEPARATOR</code>).</p>

<p>If, for some reason, you wish to see message parts and interpolated elements joined by something else, localize <code>$&#34;</code>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXAMPLE_CODE"
>EXAMPLE CODE</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_test_data"
>get_test_data</a></h2>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="words"
>words</a></h2>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="cook_dinner"
>cook_dinner</a></h2>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="serve_chili"
>serve_chili</a></h2>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_recipie"
>add_recipie</a></h2>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_crash"
>_crash</a></h2>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="bar"
>bar</a></h2>

<p>This module contains executable code matching each snippet you see in POD; this code is exercised by the Error::Base test suite. You&#39;re welcome to look. Please, don&#39;t try to <code>use</code> the ::Cookbook!</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DEMO"
>DEMO</a></h1>

<p>Included in this distribution is a script, <code>error-base-demo.pl</code>; output here. You see a warning and a fatal error, each with stack backtrace from the viewpoint of the error thrown. The invocation of <code>cuss()</code> is silent.</p>

<p>The fatal error is trapped and printed, then dumped using <a href="http://search.cpan.org/perldoc?Devel%3A%3AComments" class="podlinkpod"
>Devel::Comments</a>. Note that when printed, the object stringifies to the intended error message and backtrace. Note also that the private key <code>_private</code> is retained in the object; while the message text and backtrace is re-created at each invocation.</p>

<pre>    Demo: cranking in eluder
    in Spathi::eluder at line 37    [demo/error-base-demo.pl]
    in Pkunk::fury    at line 30    [demo/error-base-demo.pl]
    _________________ at line 18    [demo/error-base-demo.pl]
    
    Demo: crashing in scout
    in (eval)          at line 48    [demo/error-base-demo.pl]
    in Shofixti::scout at line 48    [demo/error-base-demo.pl]
    in Spathi::eluder  at line 41    [demo/error-base-demo.pl]
    in Pkunk::fury     at line 30    [demo/error-base-demo.pl]
    __________________ at line 18    [demo/error-base-demo.pl]
    
    ### $trap: bless( {
    ###                 &#39;-base&#39; =&#62; &#39;Demo:&#39;,
    ###                 &#39;-frames&#39; =&#62; [
    ###                                {
    ###                                  &#39;-eval&#39; =&#62; undef,
    ###                                  &#39;-file&#39; =&#62; &#39;demo/error-base-demo.pl&#39;,
    ###                                  &#39;-line&#39; =&#62; &#39;48&#39;,
    ###                                  &#39;-package&#39; =&#62; &#39;Shofixti&#39;,
    ###                                  &#39;-sub&#39; =&#62; &#39;(eval)         &#39;
    ###                                },
    ###                                {
    ###                                  &#39;-eval&#39; =&#62; undef,
    ###                                  &#39;-file&#39; =&#62; &#39;demo/error-base-demo.pl&#39;,
    ###                                  &#39;-line&#39; =&#62; &#39;48&#39;,
    ###                                  &#39;-package&#39; =&#62; &#39;Shofixti&#39;,
    ###                                  &#39;-sub&#39; =&#62; &#39;Shofixti::scout&#39;
    ###                                },
    ###                                {
    ###                                  &#39;-eval&#39; =&#62; undef,
    ###                                  &#39;-file&#39; =&#62; &#39;demo/error-base-demo.pl&#39;,
    ###                                  &#39;-line&#39; =&#62; &#39;41&#39;,
    ###                                  &#39;-package&#39; =&#62; &#39;Spathi&#39;,
    ###                                  &#39;-sub&#39; =&#62; &#39;Spathi::eluder &#39;
    ###                                },
    ###                                {
    ###                                  &#39;-eval&#39; =&#62; undef,
    ###                                  &#39;-file&#39; =&#62; &#39;demo/error-base-demo.pl&#39;,
    ###                                  &#39;-line&#39; =&#62; &#39;30&#39;,
    ###                                  &#39;-package&#39; =&#62; &#39;Pkunk&#39;,
    ###                                  &#39;-sub&#39; =&#62; &#39;Pkunk::fury    &#39;
    ###                                },
    ###                                {
    ###                                  &#39;-bottom&#39; =&#62; 1,
    ###                                  &#39;-eval&#39; =&#62; undef,
    ###                                  &#39;-file&#39; =&#62; &#39;demo/error-base-demo.pl&#39;,
    ###                                  &#39;-line&#39; =&#62; &#39;18&#39;,
    ###                                  &#39;-package&#39; =&#62; &#39;main&#39;,
    ###                                  &#39;-sub&#39; =&#62; &#39;_______________&#39;
    ###                                }
    ###                              ],
    ###                 &#39;-lines&#39; =&#62; [
    ###                               &#39;Demo: crashing in scout&#39;,
    ###                               &#39;in (eval)          at line 48    [demo/error-base-demo.pl]&#39;,
    ###                               &#39;in Shofixti::scout at line 48    [demo/error-base-demo.pl]&#39;,
    ###                               &#39;in Spathi::eluder  at line 41    [demo/error-base-demo.pl]&#39;,
    ###                               &#39;in Pkunk::fury     at line 30    [demo/error-base-demo.pl]&#39;,
    ###                               &#39;__________________ at line 18    [demo/error-base-demo.pl]&#39;
    ###                             ],
    ###                 &#39;-msg&#39; =&#62; &#39;Demo: crashing in scout&#39;,
    ###                 &#39;-pronto&#39; =&#62; &#39;&#39;,
    ###                 &#39;-top&#39; =&#62; 2,
    ###                 &#39;-type&#39; =&#62; &#39;crashing in scout&#39;,
    ###                 _private =&#62; &#39;foo&#39;
    ###               }, &#39;Error::Base&#39; )</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PHILOSOPHY"
>PHILOSOPHY</a></h1>

<p>Many error-related modules are available on CPAN. Some do bizarre things.</p>

<p><a href="http://search.cpan.org/perldoc?Error" class="podlinkpod"
>Error</a> is self-deprecated in its own POD as &#34;black magic&#34;; which recommends <a href="http://search.cpan.org/perldoc?Exception%3A%3AClass" class="podlinkpod"
>Exception::Class</a> instead.</p>

<p><a href="http://search.cpan.org/perldoc?Exception" class="podlinkpod"
>Exception</a> installs a <code>$SIG{__DIE__}</code> handler that converts text passed to <code>die</code> into an exception object. It permits environment variables and setting global state; and implements a <code>try</code> syntax. This module may be closest in spirit to Error::Base. For some reason, I can&#39;t persuade <code>cpan</code> to find it.</p>

<p><a href="http://search.cpan.org/perldoc?Carp" class="podlinkpod"
>Carp</a> is well-known and indeed, does a full backtrace with <code>confess()</code>. The better-known <code>carp()</code> may be a bit too clever and in any case, the dump is not formatted to my taste. The module is full of global variable settings. It&#39;s not object-oriented and an error object can&#39;t easily be pre-created.</p>

<p>The pack leader seems to be <a href="http://search.cpan.org/perldoc?Exception%3A%3AClass" class="podlinkpod"
>Exception::Class</a>. Error::Base differs most strongly in that it has a shorter learning curve (since it does much less); confines itself to error message emission (catching errors is another job); and does a full stack backtrace dump by default. Less code may also be required for simple tasks.</p>

<p>To really catch errors, I like <a href="http://search.cpan.org/perldoc?Test%3A%3ATrap" class="podlinkpod"
>Test::Trap</a> (&#39;block eval on steroids&#39;). It has a few shortcomings but is extremely powerful. I don&#39;t see why its use should be confined to testing.</p>

<p>The line between emitting a message and catching it is blurred in many related modules. I did not want a jack-in-the-box object that phoned home if it was thrown under a full moon. The only clever part of an Error::Base object is that it stringifies.</p>

<p>It may be true to say that many error modules seem to <i>expect</i> to be caught. I usually expect my errors to cause all execution to come to a fatal, non-recoverable crash. Oh, yes; I agree it&#39;s sometimes needful to catch such errors, especially during testing. But if you&#39;re regularly throwing and catching, the term &#39;exception&#39; may be appropriate but perhaps not &#39;error&#39;.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Xiong Changnian <code>&#60;xiong@cpan.org&#62;</code></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>Copyright (C) 2011 Xiong Changnian <code>&#60;xiong@cpan.org&#62;</code></p>

<p>This library and its contents are released under Artistic License 2.0:</p>

<p><a href="http://www.opensource.org/licenses/artistic-license-2.0.php" class="podlinkurl"
>http://www.opensource.org/licenses/artistic-license-2.0.php</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="http://search.cpan.org/perldoc?Error%3A%3ABase" class="podlinkpod"
>Error::Base</a>(3)</p>

<!-- end doc -->

</body></html>
